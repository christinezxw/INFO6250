{"version":3,"sources":["webpack://js-rest-login/./src/services.js","webpack://js-rest-login/webpack/bootstrap","webpack://js-rest-login/webpack/runtime/define property getters","webpack://js-rest-login/webpack/runtime/hasOwnProperty shorthand","webpack://js-rest-login/webpack/runtime/make namespace object","webpack://js-rest-login/./src/ranking.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","performLogout","postRanking","name","deleteRanking","rankingId","getRanking","scoreRanking","score","rankings","loginstatus","document","querySelector","operationstatus","inputEl","addButtonEl","listEl","sorting","addLogin","addLogout","addAbilityToAddItems","addAbilityToDeleteItems","addAbilityToScore","addAbilityToSort","disableButtonIfNoInput","pollingUpdate","showLogin","updateStatus","status","message","userInfo","showContent","renderRankings","setTimeout","addEventListener","disabled","value","innerText","classList","add","remove","usernameEl","e","target","contains","dataset","rankingid","starid","scoredRanking","rankingsArray","sortRankings","html","map","rankingArray","ranking","join","innerHTML","sortable","key","push","sortingRadios","getElementsByName","sortAlg","i","length","checked","sort","sortAscending","sortDescending","r1","r2"],"mappings":"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","file":"ranking.js","sourcesContent":["export const checkLoginStatus = function () {\n  return fetch('/session', {\n    method: 'GET',\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogin = function (username) {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username: username }),\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogout = function () {\n  return fetch('/session', {\n    method: 'DELETE',\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const postRanking = function (name) {\n  return fetch('/ranking', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ name: name }),\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const deleteRanking = function (rankingId) {\n  return fetch(`/ranking/${rankingId}`, {\n    method: 'DELETE',\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const getRanking = function () {\n  return fetch(`/ranking`, {\n    method: 'GET',\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const scoreRanking = function ({ rankingId, score }) {\n  return fetch(`/ranking/${rankingId}`, {\n    method: 'PATCH',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      score: score\n    })\n  })\n    .catch(() => {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  checkLoginStatus,\n  performLogin,\n  performLogout,\n  postRanking,\n  deleteRanking,\n  scoreRanking,\n  getRanking\n} from './services';\n\nlet rankings = {};\nconst loginstatus = document.querySelector('#ranking-app .loginstatus');\nconst operationstatus = document.querySelector('#ranking-app .operationstatus');\nconst inputEl = document.querySelector('#ranking-app .to-add');\nconst addButtonEl = document.querySelector('#ranking-app .add');\nconst listEl = document.querySelector('#ranking-app .rankings');\nconst sorting = document.querySelector('#ranking-app .sorting');\n\naddLogin();\naddLogout();\naddAbilityToAddItems();\naddAbilityToDeleteItems();\naddAbilityToScore();\naddAbilityToSort();\ndisableButtonIfNoInput();\n\ncheckLoginStatus()\n  .then(() => {\n    pollingUpdate();\n  })\n  .catch(err => {\n    showLogin();\n    updateStatus({ status: loginstatus, message: err.error });\n  });\n\nfunction pollingUpdate() {\n  getRanking()\n    .then((userInfo) => {\n      showContent();\n      updateStatus({ status: loginstatus, message: `Hi ${userInfo.username}, welcome in!` });\n      rankings = userInfo.rankings;\n      renderRankings(rankings);\n    })\n    .then(() => {\n      setTimeout(pollingUpdate, 5000);\n    })\n    .catch(err => {\n      showLogin();\n      updateStatus({ status: loginstatus, message: err.error });\n    });\n}\n\nfunction disableButtonIfNoInput() {\n  inputEl.addEventListener('input', () => {\n    addButtonEl.disabled = !inputEl.value;\n  });\n}\n\nfunction updateStatus({ status, message }) {\n  status.innerText = message;\n}\n\nfunction showContent() {\n  document.querySelector('#ranking-app .login').classList.add('hidden');\n  document.querySelector('#ranking-app .logged-in').classList.remove('hidden');\n}\n\nfunction showLogin() {\n  document.querySelector('#ranking-app .login').classList.remove('hidden');\n  document.querySelector('#ranking-app .logged-in').classList.add('hidden');\n}\n\nfunction addLogin() {\n  document.querySelector('#ranking-app .login button').addEventListener('click', () => {\n    const usernameEl = document.querySelector('#ranking-app .login input');\n    const username = usernameEl.value;\n    performLogin(username)\n      .then(() => {\n        updateStatus({ status: loginstatus, message: `Hi ${username}, welcome in!` });\n        pollingUpdate();\n      })\n      .catch(err => {\n        updateStatus({ status: loginstatus, message: err.error });\n      })\n  });\n}\n\nfunction addLogout() {\n  document.querySelector('#ranking-app .logged-in button').addEventListener('click', () => {\n    performLogout()\n      .then(() => {\n        updateStatus({ status: loginstatus, message: `You're safely logged out.` });\n        showLogin();\n      })\n      .catch(err => {\n        updateStatus({ status: loginstatus, message: err.error });\n      })\n  });\n}\n\nfunction addAbilityToAddItems() {\n  addButtonEl.addEventListener('click', (e) => {\n    const name = inputEl.value;\n    postRanking(name)\n      .then(userInfo => {\n        updateStatus({ status: operationstatus, message: `Successfully add.` });\n        inputEl.value = '';\n        rankings = userInfo.rankings;\n        renderRankings(rankings);\n      })\n      .catch(err => {\n        updateStatus({ status: operationstatus, message: err.error });\n      });\n\n  });\n}\n\nfunction addAbilityToDeleteItems() {\n  listEl.addEventListener('click', (e) => {\n    if (!e.target.classList.contains('delete')) {\n      return;\n    }\n    const rankingId = e.target.dataset.rankingid;\n    deleteRanking(rankingId)\n      .then(userInfo => {\n        updateStatus({ status: operationstatus, message: `Successfully delete.` });\n        rankings = userInfo.rankings;\n        renderRankings(rankings);\n      })\n      .catch(err => {\n        updateStatus({ status: operationstatus, message: err.error });\n      });\n  });\n}\n\n\nfunction addAbilityToScore() {\n  listEl.addEventListener('click', (e) => {\n    if (!e.target.classList.contains('star')) {\n      return;\n    }\n    const score = e.target.dataset.starid;\n    const rankingId = e.target.dataset.rankingid;\n    scoreRanking({ rankingId: rankingId, score: score })\n      .then(scoredRanking => {\n        updateStatus({ status: operationstatus, message: `Successfully score.` });\n        rankings[scoredRanking.rankingId].score = scoredRanking.score;\n        renderRankings(rankings);\n      })\n      .catch(err => {\n        updateStatus({ status: operationstatus, message: err.error });\n      });\n  });\n}\n\nfunction addAbilityToSort() {\n  sorting.addEventListener('click', (e) => {\n    if (!e.target.classList.contains('sortradio')) {\n      return;\n    }\n    renderRankings(rankings);\n    updateStatus({ status: operationstatus, message: `Successfully sort.` });\n  });\n}\n\nfunction renderRankings(rankings) {\n  const rankingsArray = sortRankings(rankings);\n  const listEl = document.querySelector('#ranking-app .rankings');\n  const html = rankingsArray.map(rankingArray => {\n    const ranking = rankingArray[0];\n    return `<li class=\"ranking\">\n      <div class=\"ranking-container\">\n        <span class=\"ranking-name\">${ranking.name}</span>\n        <div class=\"score\">\n          <span class=\"star\" data-starid=\"1\" data-rankingid=\"${ranking.rankingId}\">${ranking.score > 0 ? `&#9733;` : `&#9734;`} </span>\n          <span class=\"star\" data-starid=\"2\" data-rankingid=\"${ranking.rankingId}\">${ranking.score > 1 ? `&#9733;` : `&#9734;`} </span>\n          <span class=\"star\" data-starid=\"3\" data-rankingid=\"${ranking.rankingId}\">${ranking.score > 2 ? `&#9733;` : `&#9734;`} </span>\n          <span class=\"star\" data-starid=\"4\" data-rankingid=\"${ranking.rankingId}\">${ranking.score > 3 ? `&#9733;` : `&#9734;`} </span>\n          <span class=\"star\" data-starid=\"5\" data-rankingid=\"${ranking.rankingId}\">${ranking.score > 4 ? `&#9733;` : `&#9734;`} </span>\n        </div>\n        <button class=\"delete\" data-rankingid=\"${ranking.rankingId}\">X Delete</button>\n      </div>\n      </li>`;\n  }).join(\"\\n\");\n  listEl.innerHTML = html;\n  addButtonEl.disabled = !inputEl.value;\n}\n\nfunction sortRankings(rankings) {\n  let sortable = [];\n  for (var key in rankings) {\n    sortable.push([rankings[key], rankings[key].score]);\n  }\n  const sortingRadios = document.getElementsByName('sorting');\n  let sortAlg = null;\n  for (let i = 0, length = sortingRadios.length; i < length; i++) {\n    if (sortingRadios[i].checked) {\n      sortAlg = sortingRadios[i].value;\n      break;\n    }\n  }\n  if (sortAlg && sortAlg === 'asc') {\n    sortable.sort(sortAscending);\n  } else if (sortAlg && sortAlg === 'des') {\n    sortable.sort(sortDescending);\n  }\n  return sortable;\n}\n\nfunction sortAscending(r1, r2) {\n  return r1[1] - r2[1];\n}\n\nfunction sortDescending(r1, r2) {\n  return r2[1] - r1[1];\n}"],"sourceRoot":""}