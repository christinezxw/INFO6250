{"version":3,"sources":["webpack://exam02/./src/helpers.js","webpack://exam02/./src/services.js","webpack://exam02/webpack/bootstrap","webpack://exam02/webpack/runtime/define property getters","webpack://exam02/webpack/runtime/hasOwnProperty shorthand","webpack://exam02/webpack/runtime/make namespace object","webpack://exam02/./src/recipe.js"],"names":["unescape","text","replace","escape","checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","performLogout","postRecipe","title","ingredients","instruction","getRecipeById","recipeId","getRecipes","recipeList","recipeDetail","loginPage","document","querySelector","homePage","detailsPage","newRecipePage","loginstatusEl","loginButtonEl","usernameEl","recipeListEl","recipeListTitleEl","recipeListAuthorEl","loginredirectbuttonlEl","logoutbuttonEl","newrecipebuttonEl","recipeDetailsEl","tohomebuttonEl","titleInputEl","ingredientsInputEl","instructionInputEl","submitButtonEl","operationstatusEl","routeToHome","routeToDetails","routeToLogin","routeToNewRecipe","addLogin","addLogout","addNewRecipe","renderHome","updateHomeButton","classList","remove","add","updateStatus","status","message","recipes","showHome","renderRecipeList","innerText","showLogin","showDetails","showNewRecipe","addEventListener","e","target","contains","dataset","recipeid","recipe","renderRecipeDetail","value","console","log","htmlTitles","Object","values","map","join","innerHTML","htmlAuthors","author","html"],"mappings":"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","file":"recipe.js","sourcesContent":["export const unescape = function (text) {\n    return text.replace(/&amp;/g, \"&\")\n        .replace(/&lt;/g, \"<\")\n        .replace(/&gt;/g, \">\");\n};\n\nexport const escape = function (text) {\n    return text.replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\");\n};\n","export const checkLoginStatus = function () {\n    return fetch('/session', {\n        method: 'GET',\n    })\n        .catch(() => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return response.json().then(err => Promise.reject(err));\n        });\n};\n\nexport const performLogin = function (username) {\n    return fetch('/session', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({ username: username }),\n    })\n        .catch(() => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return response.json().then(err => Promise.reject(err));\n        });\n};\n\nexport const performLogout = function () {\n    return fetch('/session', {\n        method: 'DELETE',\n    })\n        .catch(() => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return response.json().then(err => Promise.reject(err));\n        });\n};\n\nexport const postRecipe = function ({ title, ingredients, instruction }) {\n    return fetch('/recipe', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({\n            title: title,\n            ingredients: ingredients,\n            instruction: instruction\n        }),\n    })\n        .catch(() => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return response.json().then(err => Promise.reject(err));\n        });\n};\n\nexport const getRecipeById = function (recipeId) {\n    return fetch(`/recipe/${recipeId}`, {\n        method: 'GET',\n    })\n        .catch(() => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return response.json().then(err => Promise.reject(err));\n        });\n};\n\nexport const getRecipes = function () {\n    return fetch(`/recipe`, {\n        method: 'GET',\n    })\n        .catch(() => {\n            return Promise.reject({ error: 'network-error' });\n        })\n        .then(response => {\n            if (response.ok) {\n                return response.json();\n            }\n            return response.json().then(err => Promise.reject(err));\n        });\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    checkLoginStatus,\n    performLogin,\n    performLogout,\n    postRecipe,\n    getRecipeById,\n    getRecipes,\n} from './services';\nimport {\n    unescape,\n    escape\n} from './helpers';\n\nlet recipeList = {};\nlet recipeDetail = {};\n//pages\nconst loginPage = document.querySelector('#recipe-app .login');\nconst homePage = document.querySelector('#recipe-app .home');\nconst detailsPage = document.querySelector('#recipe-app .details');\nconst newRecipePage = document.querySelector('#recipe-app .newrecipe');\n//login\nconst loginstatusEl = document.querySelector('#recipe-app .loginstatus');\nconst loginButtonEl = document.querySelector('#recipe-app .loginbutton');\nconst usernameEl = document.querySelector('#recipe-app .login input');\n//home\nconst recipeListEl = document.querySelector('#recipe-app .recipes');\nconst recipeListTitleEl = document.querySelector('#recipe-app .recipes-titles');\nconst recipeListAuthorEl = document.querySelector('#recipe-app .recipes-authors');\nconst loginredirectbuttonlEl = document.querySelector('#recipe-app .loginredirectbutton');\nconst logoutbuttonEl = document.querySelector('#recipe-app .logoutbutton');\nconst newrecipebuttonEl = document.querySelector('#recipe-app .newrecipebutton');\n//details\nconst recipeDetailsEl = document.querySelector('#recipe-app .recipedetailscontainer');\nconst tohomebuttonEl = document.querySelector('#recipe-app .tohomebutton');\n//new recipe\nconst titleInputEl = document.querySelector('#recipe-app .title');\nconst ingredientsInputEl = document.querySelector('#recipe-app .ingredients');\nconst instructionInputEl = document.querySelector('#recipe-app .instruction');\nconst submitButtonEl = document.querySelector('#recipe-app .submit');\nconst operationstatusEl = document.querySelector('#recipe-app .operationstatus');\n\nrouteToHome();\nrouteToDetails();\nrouteToLogin();\nrouteToNewRecipe();\naddLogin();\naddLogout();\naddNewRecipe();\nrenderHome();\n\nfunction updateHomeButton() {\n    checkLoginStatus()\n        .then((response) => {\n            logoutbuttonEl.classList.remove('hidden');\n            newrecipebuttonEl.classList.remove('hidden');\n            loginredirectbuttonlEl.classList.add('hidden');\n            updateStatus({ status: loginstatusEl, message: `You're logged-in as ${response.username}.` });\n        })\n        .catch(() => {\n            loginredirectbuttonlEl.classList.remove('hidden');\n            logoutbuttonEl.classList.add('hidden');\n            newrecipebuttonEl.classList.add('hidden');\n        });\n}\n\nfunction renderHome() {\n    getRecipes()\n        .then((recipes) => {\n            showHome();\n            updateHomeButton();\n            recipeList = recipes;\n            renderRecipeList(recipeList);\n        })\n        .catch(err => {\n            updateStatus({ status: operationstatusEl, message: err.error });\n        });\n}\n\nfunction updateStatus({ status, message }) {\n    status.innerText = message;\n}\n\nfunction showHome() {\n    loginPage.classList.add('hidden');\n    detailsPage.classList.add('hidden');\n    newRecipePage.classList.add('hidden');\n    homePage.classList.remove('hidden');\n    tohomebuttonEl.classList.add('hidden');\n}\n\nfunction showLogin() {\n    loginPage.classList.remove('hidden');\n    detailsPage.classList.add('hidden');\n    newRecipePage.classList.add('hidden');\n    homePage.classList.add('hidden');\n    tohomebuttonEl.classList.remove('hidden');\n}\n\nfunction showDetails() {\n    loginPage.classList.add('hidden');\n    detailsPage.classList.remove('hidden');\n    newRecipePage.classList.add('hidden');\n    homePage.classList.add('hidden');\n    tohomebuttonEl.classList.remove('hidden');\n}\n\nfunction showNewRecipe() {\n    loginPage.classList.add('hidden');\n    detailsPage.classList.add('hidden');\n    newRecipePage.classList.remove('hidden');\n    homePage.classList.add('hidden');\n    tohomebuttonEl.classList.remove('hidden');\n}\n\nfunction routeToHome() {\n    tohomebuttonEl.addEventListener('click', () => {\n        renderHome();\n        updateStatus({ status: operationstatusEl, message: '' });\n    });\n}\n\nfunction routeToDetails() {\n    recipeListTitleEl.addEventListener('click', (e) => {\n        if (!e.target.classList.contains('recipe-title')) {\n            return;\n        }\n        const recipeId = e.target.dataset.recipeid;\n        getRecipeById(recipeId)\n            .then(recipe => {\n                showDetails();\n                recipeDetail = recipe;\n                renderRecipeDetail(recipeDetail);\n            })\n            .catch(err => {\n                updateStatus({ status: operationstatusEl, message: err.error });\n            });\n    });\n}\n\nfunction routeToLogin() {\n    loginredirectbuttonlEl.addEventListener('click', () => {\n        checkLoginStatus()\n            .then((response) => {\n                updateStatus({ status: loginstatusEl, message: `You're logged-in as ${response.username}, please log out first!` });\n            })\n            .catch(error => {\n                showLogin();\n            });\n\n    });\n}\n\nfunction routeToNewRecipe() {\n    newrecipebuttonEl.addEventListener('click', () => {\n        checkLoginStatus()\n            .then((response) => {\n                showNewRecipe();\n                updateStatus({ status: loginstatusEl, message: `You're logged-in as ${response.username}.` });\n            })\n            .catch(err => {\n                updateStatus({ status: loginstatusEl, message: err.error });\n            });\n    });\n}\n\nfunction addLogin() {\n    loginButtonEl.addEventListener('click', () => {\n        const username = usernameEl.value;\n        performLogin(username)\n            .then(() => {\n                console.log(\"login\");\n                renderHome();\n\n            })\n            .catch(err => {\n                updateStatus({ status: loginstatusEl, message: err.error });\n            })\n    });\n}\n\nfunction addLogout() {\n    logoutbuttonEl.addEventListener('click', () => {\n        performLogout()\n            .then(() => {\n                renderHome();\n                updateStatus({ status: loginstatusEl, message: `You're safely logged out.` });\n            })\n            .catch(err => {\n                updateStatus({ status: loginstatusEl, message: err.error });\n            })\n    });\n}\n\nfunction renderRecipeList(recipes) {\n    const htmlTitles = Object.values(recipes).map(recipe => {\n        return `<li class=\"recipe-title-li\">\n            <span class=\"recipe-title\" data-recipeid=\"${recipe.recipeId}\">${recipe.title}</span>\n        </li>`;\n    }).join(\"\\n\");\n    recipeListTitleEl.innerHTML = htmlTitles;\n\n    const htmlAuthors = Object.values(recipes).map(recipe => {\n        return `<li class=\"recipe-author-li\">\n            <span class=\"recipe-author\">${recipe.author}</span>\n        </li>`;\n    }).join(\"\\n\");\n    recipeListAuthorEl.innerHTML = htmlAuthors;\n}\n\nfunction renderRecipeDetail(recipe) {\n    const html = `\n    <div class=\"detail-attribute\">Title</div>\n    <span class=\"recipe-title\">${unescape(recipe.title)}</span><br>\n    <div class=\"detail-attribute\">Author</div>\n    <span class=\"recipe-author\">${unescape(recipe.author)}</span><br>\n    <div class=\"detail-attribute\">Ingredients</div>\n    <span class=\"recipe-ingredients\">${unescape(recipe.ingredients)}</span><br>\n    <div class=\"detail-attribute\">Instruction</div>\n    <span class=\"recipe-instruction\">${unescape(recipe.instruction)}</span><br>\n    `;\n    recipeDetailsEl.innerHTML = html;\n}\n\nfunction addNewRecipe() {\n    submitButtonEl.addEventListener('click', () => {\n        checkLoginStatus()\n            .then(() => {\n                const title = escape(titleInputEl.value);\n                const ingredients = escape(ingredientsInputEl.value);\n                const instruction = escape(instructionInputEl.value);\n                postRecipe({ title: title, ingredients: ingredients, instruction: instruction })\n                    .then(response => {\n                        titleInputEl.value = '';\n                        ingredientsInputEl.value = '';\n                        instructionInputEl.value = '';\n                        const recipeId = response.recipeId;\n                        getRecipeById(recipeId)\n                            .then(recipe => {\n                                showDetails();\n                                recipeDetail = recipe;\n                                renderRecipeDetail(recipeDetail);\n                                updateStatus({ status: operationstatusEl, message: '' });\n                            })\n                            .catch(err => {\n                                updateStatus({ status: operationstatusEl, message: err.error });\n                            });\n                    })\n                    .catch(err => {\n                        updateStatus({ status: operationstatusEl, message: err.error });\n                    });\n            })\n            .catch(err => {\n                updateStatus({ status: loginstatusEl, message: err.error });\n            });\n    });\n}"],"sourceRoot":""}